{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export function searchImages(query) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: '44038258-5ed49f7c308af682a7282867b',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    const url = `${BASE_URL}?${params}`;\n\n    return fetch(url).then(res => {\n        if (!res.ok) {\n            throw new Error(res.status);\n        }\n        return res.json();\n    });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nlet lightbox;\n\nfunction imageTemplate(image) {\n  return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n      <img \n        class=\"gallery-image\" \n        src=\"${image.webformatURL}\" \n        alt=\"${image.tags}\" \n      />\n    </a>\n    <div class=\"img-details-box\">\n      <p class=\"detail-item\"><b class=\"detail-title\">Likes:</b> ${image.likes}</p>\n      <p class=\"detail-item\"><b class=\"detail-title\">Views:</b> ${image.views}</p>\n      <p class=\"detail-item\"><b class=\"detail-title\">Comments:</b> ${image.comments}</p>\n      <p class=\"detail-item\"><b class=\"detail-title\">Downloads:</b> ${image.downloads}</p>\n    </div>\n    </li>\n  `;\n}\n\nfunction imagesTemplate(arr) {\n  return arr.map(imageTemplate).join('');\n}\n\nexport function addImage(images) {\n  const markup = imagesTemplate(images);\n  imagesList.insertAdjacentHTML('beforeend', markup);\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.js-images-container a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImages } from './js/pixabay-api.js';\nimport { addImage } from './js/render-function.js';\n\nconst formElem = document.querySelector('.images-form');\nconst imagesList = document.querySelector('.js-images-container');\nconst loader = document.querySelector('.loader');\n\nformElem.addEventListener('submit', formSubmit);\nfunction formSubmit(e) {\n    e.preventDefault();\n    imagesList.innerHTML = '';\n\n    displayLoader();\n\n    const query = e.target.elements.query.value.trim();\n\n    if (!query) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query',\n        });\n        hideLoader();\n        return;\n    }\n\n    searchImages(query).then(data => {\n        if (data && data.hits && data.hits.length) {\n            addImage(data.hits);\n        } else {\n            throw Error(\n                'Sorry, there are no images matching your search query. Please try again!'\n            );\n        }\n    })\n\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message:\n                    'Sorry, there are no images matching your search query. Please try again!',\n            });\n        })\n        .finally(() => {\n            hideLoader();\n        });\n\n    formElem.reset();\n}\n\n \n\nfunction displayLoader() {\n  loader.style.display = 'inline-block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none'\n}\n\n"],"names":["searchImages","query","BASE_URL","params","url","res","lightbox","imageTemplate","image","imagesTemplate","arr","addImage","images","markup","SimpleLightbox","formElem","imagesList","loader","formSubmit","e","displayLoader","iziToast","hideLoader","data","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAO,CAChC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC1B,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACnB,CAAK,CACL,CCdA,IAAIC,EAEJ,SAASC,EAAcC,EAAO,CAC5B,MAAO;AAAA,oCAC2BA,EAAM,aAAa;AAAA;AAAA;AAAA,eAGxCA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,kEAIyCA,EAAM,KAAK;AAAA,kEACXA,EAAM,KAAK;AAAA,qEACRA,EAAM,QAAQ;AAAA,sEACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIrF,CAEA,SAASC,EAAeC,EAAK,CAC3B,OAAOA,EAAI,IAAIH,CAAa,EAAE,KAAK,EAAE,CACvC,CAEO,SAASI,EAASC,EAAQ,CAC/B,MAAMC,EAASJ,EAAeG,CAAM,EACpC,WAAW,mBAAmB,YAAaC,CAAM,EAC5CP,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIQ,EAAe,yBAA0B,CACtD,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CClCA,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAa,SAAS,cAAc,sBAAsB,EAC1DC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAS,iBAAiB,SAAUG,CAAU,EAC9C,SAASA,EAAWC,EAAG,CACnBA,EAAE,eAAc,EAChBH,EAAW,UAAY,GAEvBI,IAEA,MAAMnB,EAAQkB,EAAE,OAAO,SAAS,MAAM,MAAM,OAE5C,GAAI,CAAClB,EAAO,CACRoB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACrB,CAAS,EACDC,IACA,MACH,CAEDtB,EAAaC,CAAK,EAAE,KAAKsB,GAAQ,CAC7B,GAAIA,GAAQA,EAAK,MAAQA,EAAK,KAAK,OAC/BZ,EAASY,EAAK,IAAI,MAElB,OAAM,MACF,0EAChB,CAEA,CAAK,EAEI,MAAMC,GAAS,CACZH,EAAS,MAAM,CACX,MAAO,QACP,QACI,0EACpB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXC,GACZ,CAAS,EAELP,EAAS,MAAK,CAClB,CAIA,SAASK,GAAgB,CACvBH,EAAO,MAAM,QAAU,cACzB,CAEA,SAASK,GAAa,CAClBL,EAAO,MAAM,QAAU,MAC3B"}